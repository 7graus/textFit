(function(a){a.fn.textFit=function(b){return this.each(function(){var c,d,e,f,g;var h,i,j;if(this.length===0){return a(this)}g={alignVert:false,alignHoriz:false,multiLine:false,detectMultiLine:true,minFontSize:6,maxFontSize:80,reProcess:false,widthOnly:false};a.extend(g,b);e=a(this).html();a(this).html("");f=a(this).width();d=a(this).height();if(!f||!g.widthOnly&&!d){if(window.console!=null){if(!g.widthOnly)console.info("Set a static height and width on the target element"+this.outerHTML+" before using textFit!");else console.info("Set a static width on the target element"+this.outerHTML+" before using textFit!")}return a(this).html(e)}else{if(e.indexOf("textfitted")===-1){c=a("<span></span>").addClass("textfitted").html(e);a(this).html(c)}else{if(b.reprocess===false)return;a(this).html(e);c=a(e).find("span.textfitted")}if(g.alignVert){a(this).css("display","table");c.css("display","table-cell");c.css("vertical-align","middle")}if(g.alignHoriz){a(this).css("text-align","center");c.css("text-align","center")}if(!g.multiLine&&g.detectMultiLine&&c.height()>=parseInt(c.css("font-size"),10)*2){g.multiLine=true}if(!g.multiLine){a(this).css("white-space","nowrap")}h=g.minFontSize;j=g.maxFontSize;while(h<=j){i=parseInt((h+j)/2,10);c.css("font-size",i);if(c.width()<=f&&(g.widthOnly||c.height()<=d)){h=i+1}else{j=i-1}}if(c.width()>f&&(g.widthOnly||c.height()>d)){c.css("font-size",i-1)}}})}})(jQuery)